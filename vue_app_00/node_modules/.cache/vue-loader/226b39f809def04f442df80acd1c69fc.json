{"remainingRequest":"d:\\xampp\\htdocs\\tml1903\\online\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!d:\\xampp\\htdocs\\tml1903\\online\\vue_app_00\\src\\components\\booking\\common\\Login.vue?vue&type=style&index=0&id=8f19fdaa&scoped=true&lang=css","dependencies":[{"path":"d:\\xampp\\htdocs\\tml1903\\online\\vue_app_00\\src\\components\\booking\\common\\Login.vue","mtime":1563883470025},{"path":"d:\\xampp\\htdocs\\tml1903\\online\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":1562979687013},{"path":"d:\\xampp\\htdocs\\tml1903\\online\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1562979690388},{"path":"d:\\xampp\\htdocs\\tml1903\\online\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":1562979689638},{"path":"d:\\xampp\\htdocs\\tml1903\\online\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1562979686325},{"path":"d:\\xampp\\htdocs\\tml1903\\online\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1562979690388}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.container{\r\n    background-color:#f2f2f2;\r\n    color:#333;\r\n    font-size:12px;\r\n}\r\n.content{\r\n  padding:40px 20px;\r\n}\r\n.reg{\r\n  margin-top:20px;\r\n}\r\n.reg span:last-child{\r\n  color:red;\r\n}\r\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src\\components\\booking\\common","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <!--顶部标题栏-->\r\n    <titlebar leftTitle=\"用户登录\"></titlebar>\r\n    <!--登录界面-->\r\n    <div class=\"content\">\r\n      <!--用户名-->\r\n      <mt-field placeholder=\"请输入用户名\" class=\"myinput\" v-model=\"uname\"></mt-field>\r\n      <!--密码-->\r\n      <mt-field placeholder=\"请输入密码\"class=\"myinput\"\r\n      type=\"password\" v-model=\"upwd\"></mt-field>\r\n      <!--登录按钮-->\r\n      <mt-button size=\"large\" type=\"primary\" @click=\"login\">登录</mt-button>\r\n      <div class=\"reg\"><span>没有账号？</span><span @click=\"toReg\">请注册</span></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  // 引入相关子组件\r\n  import TitleBar from \"./TitleBar.vue\";\r\n  export default {\r\n    data(){\r\n      return {\r\n        uname:'',\r\n        upwd:''\r\n      }\r\n    },//data结束\r\n    methods:{\r\n      login(){\r\n        // 获取用户名和密码\r\n        var uname=this.uname;\r\n        var upwd=this.upwd;\r\n        // 验证用户名\r\n        var reg=/^\\w{3,9}$/i;\r\n        if(!reg.test(uname)){\r\n          this.$toast(\"用户名格式不正确\");\r\n          return;\r\n        }\r\n        // 验证密码\r\n        if(!reg.test(upwd)){\r\n          this.$toast(\"密码格式不正确\");\r\n          return;\r\n        }\r\n        // 发送请求\r\n        this.axios.get(\"login\",{\r\n          params:{\r\n            uname,\r\n            upwd\r\n          }\r\n        }).then(result=>{\r\n          // console.log(result.data);\r\n          if(result.data.code==1){\r\n            // console.log(uname);\r\n            sessionStorage.setItem(\"uname\",uname);\r\n            sessionStorage.setItem(\"uid\",result.data.uid);\r\n            console.log(sessionStorage)\r\n            this.$router.push('/Booking');\r\n          }else{\r\n            this.$messagebox(\"\",result.data.msg);\r\n          }\r\n          \r\n        })\r\n      },\r\n      toReg(){\r\n        this.$router.push(\"/Reg\");\r\n      },\r\n    },\r\n    components:{\r\n      \"titlebar\":TitleBar\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n.container{\r\n    background-color:#f2f2f2;\r\n    color:#333;\r\n    font-size:12px;\r\n}\r\n.content{\r\n  padding:40px 20px;\r\n}\r\n.reg{\r\n  margin-top:20px;\r\n}\r\n.reg span:last-child{\r\n  color:red;\r\n}\r\n</style>"]}]}