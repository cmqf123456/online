{"remainingRequest":"d:\\xampp\\htdocs\\tml1903\\online\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!d:\\xampp\\htdocs\\tml1903\\online\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!d:\\xampp\\htdocs\\tml1903\\online\\vue_app_00\\src\\components\\booking\\common\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"d:\\xampp\\htdocs\\tml1903\\online\\vue_app_00\\src\\components\\booking\\common\\Login.vue","mtime":1564117857249},{"path":"d:\\xampp\\htdocs\\tml1903\\online\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1562979686325},{"path":"d:\\xampp\\htdocs\\tml1903\\online\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1562979686216},{"path":"d:\\xampp\\htdocs\\tml1903\\online\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1562979690388}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// 引入相关子组件\nimport TitleBar from \"./TitleBar.vue\";\nexport default {\n  data: function data() {\n    return {\n      uname: '',\n      upwd: '',\n      jumpRouter: \"\"\n    };\n  },\n  //data结束\n  methods: {\n    // 登录按钮事件\n    login: function login() {\n      var _this = this;\n\n      // 获取用户名和密码\n      var uname = this.uname;\n      var upwd = this.upwd; // 验证用户名\n\n      var reg = /^\\w{3,9}$/i;\n\n      if (!reg.test(uname)) {\n        this.$toast(\"用户名格式不正确\");\n        return;\n      } // 验证密码\n\n\n      if (!reg.test(upwd)) {\n        this.$toast(\"密码格式不正确\");\n        return;\n      } // 发送请求\n\n\n      this.axios.get(\"login\", {\n        params: {\n          uname: uname,\n          upwd: upwd\n        }\n      }).then(function (result) {\n        // console.log(result.data);\n        if (result.data.code == 1) {\n          // console.log(uname);\n          sessionStorage.setItem(\"uname\", uname);\n          sessionStorage.setItem(\"uid\", result.data.uid);\n          console.log(sessionStorage);\n          var jumpRouter = sessionStorage.getItem(\"jumpRouter\");\n          console.log(jumpRouter);\n\n          _this.$router.push(jumpRouter);\n        } else {\n          _this.$messagebox(\"\", result.data.msg);\n        }\n      });\n    },\n    // 跳转到注册按钮\n    toReg: function toReg() {\n      this.$router.push(\"/Reg\");\n    }\n  },\n  // 定义子组件\n  components: {\n    \"titlebar\": TitleBar\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAmBA;AACA,OAAA,QAAA,MAAA,gBAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,aAAA,EADA;AAEA,YAAA,EAFA;AAGA,kBAAA;AAHA,KAAA;AAKA,GAPA;AAOA;AACA,WAAA;AACA;AACA,SAFA,mBAEA;AAAA;;AACA;AACA,UAAA,QAAA,KAAA,KAAA;AACA,UAAA,OAAA,KAAA,IAAA,CAHA,CAIA;;AACA,UAAA,MAAA,YAAA;;AACA,UAAA,CAAA,IAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,UAAA;AACA;AACA,OATA,CAUA;;;AACA,UAAA,CAAA,IAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,SAAA;AACA;AACA,OAdA,CAeA;;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,OAAA,EAAA;AACA,gBAAA;AACA,sBADA;AAEA;AAFA;AADA,OAAA,EAKA,IALA,CAKA,kBAAA;AACA;AACA,YAAA,OAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA;AACA,yBAAA,OAAA,CAAA,OAAA,EAAA,KAAA;AACA,yBAAA,OAAA,CAAA,KAAA,EAAA,OAAA,IAAA,CAAA,GAAA;AACA,kBAAA,GAAA,CAAA,cAAA;AACA,cAAA,aAAA,eAAA,OAAA,CAAA,YAAA,CAAA;AACA,kBAAA,GAAA,CAAA,UAAA;;AACA,gBAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AACA,SARA,MAQA;AACA,gBAAA,WAAA,CAAA,EAAA,EAAA,OAAA,IAAA,CAAA,GAAA;AACA;AAEA,OAnBA;AAoBA,KAtCA;AAuCA;AACA,SAxCA,mBAwCA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,MAAA;AACA;AA1CA,GARA;AAoDA;AACA,cAAA;AACA,gBAAA;AADA;AArDA,CAAA","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <!--顶部标题栏-->\r\n    <titlebar leftTitle=\"用户登录\"></titlebar>\r\n    <!--登录界面-->\r\n    <div class=\"content\">\r\n      <!--用户名-->\r\n      <mt-field placeholder=\"请输入用户名\" class=\"myinput\" v-model=\"uname\"></mt-field>\r\n      <!--密码-->\r\n      <mt-field placeholder=\"请输入密码\"class=\"myinput\"\r\n      type=\"password\" v-model=\"upwd\"></mt-field>\r\n      <!--登录按钮-->\r\n      <mt-button size=\"large\" type=\"primary\" @click=\"login\">登录</mt-button>\r\n      <div class=\"reg\"><span>没有账号？</span><span @click=\"toReg\">请注册</span></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  // 引入相关子组件\r\n  import TitleBar from \"./TitleBar.vue\";\r\n  export default {\r\n    data(){\r\n      return {\r\n        uname:'',\r\n        upwd:'',\r\n        jumpRouter:\"\"\r\n      }\r\n    },//data结束\r\n    methods:{\r\n      // 登录按钮事件\r\n      login(){\r\n        // 获取用户名和密码\r\n        var uname=this.uname;\r\n        var upwd=this.upwd;\r\n        // 验证用户名\r\n        var reg=/^\\w{3,9}$/i;\r\n        if(!reg.test(uname)){\r\n          this.$toast(\"用户名格式不正确\");\r\n          return;\r\n        }\r\n        // 验证密码\r\n        if(!reg.test(upwd)){\r\n          this.$toast(\"密码格式不正确\");\r\n          return;\r\n        }\r\n        // 发送请求\r\n        this.axios.get(\"login\",{\r\n          params:{\r\n            uname,\r\n            upwd\r\n          }\r\n        }).then(result=>{\r\n          // console.log(result.data);\r\n          if(result.data.code==1){\r\n            // console.log(uname);\r\n            sessionStorage.setItem(\"uname\",uname);\r\n            sessionStorage.setItem(\"uid\",result.data.uid);\r\n            console.log(sessionStorage);\r\n            var jumpRouter=sessionStorage.getItem(\"jumpRouter\");\r\n            console.log(jumpRouter);\r\n            this.$router.push(jumpRouter);\r\n          }else{\r\n            this.$messagebox(\"\",result.data.msg);\r\n          }\r\n          \r\n        })\r\n      },\r\n      // 跳转到注册按钮\r\n      toReg(){\r\n        this.$router.push(\"/Reg\");\r\n      },\r\n    },\r\n    // 定义子组件\r\n    components:{\r\n      \"titlebar\":TitleBar\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n.container{\r\n    background-color:#f2f2f2;\r\n    color:#333;\r\n    font-size:12px;\r\n}\r\n.content{\r\n  padding:40px 20px;\r\n}\r\n.reg{\r\n  margin-top:20px;\r\n}\r\n.reg span:last-child{\r\n  color:red;\r\n}\r\n</style>"],"sourceRoot":"src\\components\\booking\\common"}]}